<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Prajisa Satyal</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{
    background:#0e1621;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    height:100vh;
    display:flex;
    flex-direction:column;
    overflow:hidden;
    background:radial-gradient(circle at top,#1a2332 0%,#0e1621 70%);
    padding-bottom:80px; /* Critical fix */
  }
  .header{
    background:#0e1621;
    padding:10px 16px 10px 8px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    border-bottom:1px solid #1f2c38;
    position:sticky;
    top:0;
    z-index:10;
  }
  .left{display:flex;align-items:center;}
  .back svg{width:28px;height:28px;fill:#00a2f8;cursor:pointer;}
  .dp{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #00a2f8;margin:0 12px;}
  .name{font-weight:600;font-size:17px;color:white;}
  .status{font-size:13px;color:#8aadf4;margin-top:2px;}
  .call-icons svg{width:26px;height:26px;fill:#00a2f8;cursor:pointer;}
  .call-icons{display:flex;gap:22px;}

  .chat{
    flex:1;
    overflow-y:auto;
    padding:10px 12px 20px; /* Reduced â€“ input bar is now fixed */
    background:#0e1621;
  }
  .message{
    display:flex;
    margin:4px 0;
    animation:fadeIn 0.3s;
  }
  .message.me{justify-content:flex-end;}
  .message.her{justify-content:flex-start;}
  .message.her + .message.her{margin-top:3px!important;}
  .message.her + .message.her .avatar{display:none!important;}
  .message.her + .message.her .bubble{margin-left:35px!important;}

  .bubble{
    max-width:76%;
    padding:9px 13px;
    border-radius:18px;
    line-height:1.42;
    word-wrap:break-word;
    position:relative;
    font-size:15.5px;
  }
  .bubble.me{background:#0084ff;color:white;border-bottom-right-radius:4px;}
  .bubble.her{background:#262626;color:#e6edf3;border-bottom-left-radius:4px;}
  .tail-me{position:absolute;bottom:0;right:-6px;width:12px;height:12px;background:#0084ff;clip-path:polygon(100% 0,0 100%,100% 100%);}
  .tail-her{position:absolute;bottom:0;left:-6px;width:12px;height:12px;background:#262626;clip-path:polygon(0 0,100% 100%,0 100%);}
  .avatar{width:26px;height:26px;border-radius:50%;object-fit:cover;flex-shrink:0;margin-right:9px;}

  .typing-indicator{
    display:none;
    align-items:flex-end;
    padding:10px 12px;
  }
  .typing-bubble{background:#262626;border-radius:20px;padding:9px 15px;}
  .typing-dots span{
    width:8px;height:8px;background:#8b949e;border-radius:50%;
    display:inline-block;margin:0 3px;animation:bounce 1.4s infinite;
  }
  .typing-dots span:nth-child(2){animation-delay:0.2s;}
  .typing-dots span:nth-child(3){animation-delay:0.4s;}
  @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

  .inputbar{
    background:#0e1621;
    padding:8px 10px;
    border-top:1px solid #1f2c38;
    display:flex;
    align-items:center;
    gap:10px;
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    z-index:9;
  }
  .inputbox{
    flex:1;
    background:#1c2526;
    color:white;
    border:none;
    border-radius:24px;
    padding:11px 16px;
    font-size:16px;
    outline:none;
  }
  .sendbtn{
    background:transparent;
    border:none;
    width:44px;
    height:44px;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
  }
  .sendbtn svg{width:26px;height:26px;fill:#0084ff;}
  .time{text-align:center;font-size:11px;color:#5b7087;margin:15px 0;}
</style>
</head>
<body>

<div class="header">
  <div class="left">
    <div class="back"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg></div>
    <img src="FB_IMG_1764541425161.jpg" class="dp" alt="DP">
    <div>
      <div class="name">Prajisa Satyal</div>
      <div class="status">Active now</div>
    </div>
  </div>
  <div class="call-icons">
    <svg viewBox="0 0 24 24"><path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2c.28-.28.67-.36 1.02-.25 1.12.37 2.33.57 3.57.57a1 1 0 011 1V21a1 1 0 01-1 1A18 18 0 013 4a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
    <svg viewBox="0 0 24 24"><path d="M17 10.5V7a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1v-3.5l4 4v-11l-4 4z"/></svg>
  </div>
</div>

<div class="chat" id="chat">
  <div class="time">Today</div>
</div>

<div class="typing-indicator" id="typing">
  <img src="FB_IMG_1764541425161.jpg" class="avatar" alt="avatar">
  <div class="typing-bubble"><div class="typing-dots"><span></span><span></span><span></span></div></div>
  <div class="tail-her"></div>
</div>

<div class="inputbar">
  <input type="text" class="inputbox" id="input" placeholder="Message..." autofocus>
  <button class="sendbtn" onclick="send()">
    <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2 .01 7z"/></svg>
  </button>
</div>

<script>
const chat = document.getElementById('chat');
const typing = document.getElementById('typing');
const input = document.getElementById('input');

let memory = {
  lastQ: "",
  lastA: "",
  askedGardai: false
};

function rand(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

function addMsg(text, me = false) {
  const div = document.createElement('div');
  div.className = `message ${me ? 'me' : 'her'}`;

  if (!me) {
    const av = document.createElement('img');
    av.src = "https://i.ibb.co/0jYk7Zr/pp.jpg";
    av.className = "avatar";
    av.alt = "avatar";
    div.appendChild(av);
  }

  const bub = document.createElement('div');
  bub.className = `bubble ${me ? 'me' : 'her'}`;
  bub.textContent = text;
  bub.innerHTML += me ? '<div class="tail-me"></div>' : '<div class="tail-her"></div>';
  div.appendChild(bub);
  chat.appendChild(div);

  // Always scroll to bottom
  chat.scrollTop = chat.scrollHeight;
}

function reply(msg) {
  const m = msg.toLowerCase().trim();

  // Repeat same question detection
  if (memory.lastQ && (m.includes("oie") || m.includes("hi") || m.includes("khako") || m.includes("kaha") || m.includes("tarkari") || m.includes("sutxau"))) {
    if (m.split(" ")[0] === memory.lastQ.split(" ")[0]) {
      return "Vane tw " + memory.lastA;
    }
  }

  if (/^hi$|^oie$|^kk khako$|^oie babe$|^babe$|^oie haudi$/i.test(m)) {
    const res = rand(["hello", "k bho", "hajur"]);
    memory.lastQ = m; memory.lastA = res;
    return res;
  }

  if (/haha+|lol+|xd+/i.test(m)) {
    const res = rand(["lol", "hawa", "bacha"]);
    memory.lastQ = "haha"; memory.lastA = res;
    return res;
  }

  if ((m.includes("gardai") || m.includes("gar dai") || m.includes("gar")) && !memory.askedGardai) {
    const res = rand(["etikai basdai", "khana khayera basdai", "aba sutxu"]);
    memory.askedGardai = true;
    setTimeout(() => addMsg(rand(["timi k gardai xau?", "timi?", "you?"])), 1200 + Math.random() * 1000);
    memory.lastQ = "gardai"; memory.lastA = res;
    return res;
  }

  if ((m.includes("agi") && m.includes("kaha")) || /kaha\s+(gako|gaki|thiyau)/i.test(m) || /ka\s+(gako|gaki)/i.test(m)) {
    const res = rand(["bunu lai hw sikudai thiye", "khana khayera aako", "sano momi ko ghar bata aako varkhar", "brush garera aaye"]);
    memory.lastQ = "kaha"; memory.lastA = res;
    return res;
  }

  if ((m.includes("k k") && m.includes("khako")) || /ke\s+khay|k k khayau/i.test(m)) {
    const res = rand(["dal bhat ani achar", "roti tarkari", "rice ani alu ko achar"]);
    memory.lastQ = "kk khako"; memory.lastA = res;
    return res;
  }

  if (m.includes("ko tarkari") || m.includes("tarkari ko")) {
    const res = rand(["cauli", "paneer ko"]);
    memory.lastQ = "tarkari"; memory.lastA = res;
    return res;
  }

  if (m.includes("kati baje") && m.includes("sut")) {
    const res = rand(["aba sutna ready hudai", "aba ekaixin ma"]);
    memory.lastQ = "sutxau"; memory.lastA = res;
    return res;
  }

  if (m.includes("kina eti xito") || m.includes("sutya")) {
    return rand(["aja thakeko xu nindra lagyo", "nindra lagyo", "kasto kina " + msg]);
  }

  if (m.includes("k xa") || (/sanchai/.test(m) && /xau|chau\s?/i.test(m))) {
    return rand(["thikai xa, timro?", "mero sab thik xa, timro vana?"]);
  }

  if (/kei+i?\s+nai+i?/i.test(m)) {
    return rand(["ohh", "eyy"]);
  }

  if (/lubiu|love you|i love u|iloveu/i.test(m)) {
    return rand(["i hate you", "aas na rakhnu"]);
  }

  if (/khana|khaja/.test(m) && /khayau\s?/i.test(m)) {
    return "umm khaye. timle?";
  }

  if (m.includes("umm")) return "huss";
  if (m.includes("khai")) return "ohh";
  if (m === "la") return "huss";
  if (m === "khaye") return "ohh k k khayau? Alu tw hola niðŸ˜‚";

  return rand(["ohh", "lol"]);
}

function send() {
  const txt = input.value.trim();
  if (!txt) return;
  addMsg(txt, true);
  input.value = "";

  typing.style.display = "flex";
  setTimeout(() => {
    typing.style.display = "none";
    addMsg(reply(txt));
  }, 800 + Math.random() * 1300);
}

// Send on Enter
input.addEventListener('keypress', e => {
  if (e.key === 'Enter') send();
});

// Focus input on load
window.onload = () => input.focus();
</script>
</body>
</html>@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.inputbar{background:#0e1621;padding:8px 10px;border-top:1px solid #1f2c38;display:flex;align-items:center;gap:10px;}
.inputbox{flex:1;background:#1c2526;color:white;border:none;border-radius:24px;padding:11px 16px;font-size:16px;outline:none;}
.sendbtn{background:transparent;border:none;width:44px;height:44px;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.sendbtn svg{width:26px;height:26px;fill:#0084ff;}
.time{text-align:center;font-size:11px;color:#5b7087;margin:15px 0;}
</style>
</head>
<body>

<div class="header">
  <div class="left">
    <div class="back"><svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg></div>
    <img src="FB_IMG_1764541425161.jpg" class="dp">
    <div>
      <div class="name">Prajisa Satyal</div>
      <div class="status">Active now</div>
    </div>
  </div>
  <div class="call-icons">
    <svg viewBox="0 0 24 24"><path d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2c.28-.28.67-.36 1.02-.25 1.12.37 2.33.57 3.57.57a1 1 0 011 1V21a1 1 0 01-1 1A18 18 0 013 4a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
    <svg viewBox="0 0 24 24"><path d="M17 10.5V7a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1v-3.5l4 4v-11l-4 4z"/></svg>
  </div>
</div>

<div class="chat" id="chat">
  <div class="time">Today</div>
</div>

<div class="typing-indicator" id="typing">
  <img src="FB_IMG_1764541425161.jpg" class="avatar">
  <div class="typing-bubble"><div class="typing-dots"><span></span><span></span><span></span></div></div>
  <div class="tail-her"></div>
</div>

<div class="inputbar">
  <input type="text" class="inputbox" id="input" placeholder="Message..." autofocus>
  <button class="sendbtn" onclick="send()">
    <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2 .01 7z"/></svg>
  </button>
</div>

<script>
const chat = document.getElementById('chat');
const typing = document.getElementById('typing');
const input = document.getElementById('input');

let memory = {
  lastQ: "",
  lastA: "",
  askedGardai: false
};

function rand(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

function addMsg(text, me = false) {
  const div = document.createElement('div');
  div.className = `message ${me ? 'me' : 'her'}`;
  if (!me) {
    const av = document.createElement('img');
    av.src = "https://i.ibb.co/0jYk7Zr/pp.jpg";
    av.className = "avatar";
    div.appendChild(av);
  }
  const bub = document.createElement('div');
  bub.className = `bubble ${me ? 'me' : 'her'}`;
  bub.textContent = text;
  bub.innerHTML += me ? '<div class="tail-me"></div>' : '<div class="tail-her"></div>';
  div.appendChild(bub);
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function reply(msg) {
  const m = msg.toLowerCase().trim();

  // Repeat same question â†’ "agi vane tw"
  if (memory.lastQ && (m.includes("oie") || m.includes("hi") || m.includes("khako") || m.includes("kaha") || m.includes("khako") || m.includes("tarkari") || m.includes("sutxau"))) {
    if (m.split(" ")[0] === memory.lastQ.split(" ")[0]) {
      return "Vane tw " + memory.lastA;
    }
  }

  // hi / oie / babe etc.
  
  if (/^hi$|^oie$|^kk khako$|^oie babe$|^babe$|^oie haudi$/i.test(m)) {
    const res = rand(["hello", "k bho", "hajur"]);
    memory.lastQ = m; memory.lastA = res;
    return res;
  }
  
  

  // haha
  if (/haha+|lol+|xd+/i.test(m)) {
    const res = rand(["lol", "hawa", "bacha"]);
    memory.lastQ = "haha"; memory.lastA = res;
    return res;
  }

  // k gardai (only once)
  if ((m.includes("gardai") || m.includes("gar dai") || m.includes("gar")) && !memory.askedGardai) {
    const res = rand(["etikai basdai", "khana khayera basdai", "aba sutxu"]);
    memory.askedGardai = true;
    setTimeout(() => addMsg(rand(["timi k gardai xau?", "timi?", "you?"])), 1200 + Math.random() * 1000);
    memory.lastQ = "gardai"; memory.lastA = res;
    return res;
  }

  // agi kaha thiyau / kaha gako
  if ((m.includes("agi") && m.includes("kaha")) || /kaha\s+(gako|gaki|thiyau)/i.test(m) || /ka\s+(gako|gaki)/i.test(m)) {
    const res = rand(["bunu lai hw sikudai thiye", "khana khayera aako", "sano momi ko ghar bata aako varkhar", "brush garera aaye"]);
    memory.lastQ = "kaha"; memory.lastA = res;
    return res;
  }

  // k k khako
  if ((m.includes("k k") && m.includes("khako")) || /ke\s+khay|k k khayau/i.test(m)) {
    const res = rand(["dal bhat ani achar", "roti tarkari", "rice ani alu ko achar"]);
    memory.lastQ = "kk khako"; memory.lastA = res;
    return res;
  }

  // k ko tarkari
  if (m.includes("ko tarkari") || m.includes("tarkari ko")) {
    const res = rand(["cauli", "paneer ko"]);
    memory.lastQ = "tarkari"; memory.lastA = res;
    return res;
  }

  // kati baje sutxau
  if (m.includes("kati baje") && m.includes("sut")) {
    const res = rand(["aba sutna ready hudai", "aba ekaixin ma"]);
    memory.lastQ = "sutxau"; memory.lastA = res;
    return res;
  }

  // user says aba sutxu
  if (m.includes("kina eti xito") || m.includes("sutya")) {
    return rand([ "aja thakeko xu nindra lagyo", "nindra lagyo", "kasto kina " + msg]);
  }
 if (m.includes("k xa") ||  (/sanchai/.test(m) && /xau|chau\s?/i.test(m)) ) {
    return rand([ "thikai xa, timro?", "mero sab thik xa, timro vana?"]);
  }
  // kei nai / keii naii
  if (/kei+i?\s+nai+i?/i.test(m)) {
    return rand(["ohh", "eyy"]);
  }

  // love you
  if (/lubiu|love you|i love u|iloveu/i.test(m)) {
    return rand(["i hate you", "aas na rakhnu"]);
  }

  // khana/khaja khayau?
  if (/khana|khaja/.test(m) && /khayau\s?/i.test(m)) {
    return "umm khaye. timle?";
  }

if (/lubiu|love you|i love u|iloveu/i.test(m)) {
    return rand(["i hate you", "aas na rakhnu"]);
  }
  
  // thik xa
  if (m.includes("umm")) {
    return "huss";
  }
if (m.includes("khai")) {
    return "ohh";
  }
  // la
  
  if (m === "la") {
    return "huss";
  }
  
  if (m === "khaye") {
    return "ohh k k khayau?\t Alu tw hola niðŸ˜‚";
    
  }

  // default
  return rand(["ohh", "lol"]);
}

function send() {
  const txt = input.value.trim();
  if (!txt) return;
  addMsg(txt, true);
  input.value = "";

  typing.style.display = "flex";
  setTimeout(() => {
    typing.style.display = "none";
    addMsg(reply(txt));
  }, 800 + Math.random() * 1300);
}

input.addEventListener('keypress', e => {
  if (e.key === 'Enter') send();
});
</script>
</body>
  </html>
